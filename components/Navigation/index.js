import Link from 'next/link';
import { useRouter } from 'next/router';
import styles from './Navigation.module.css'; 

function Navigation() {
  return (
    <div className={`${styles.NavBar} ${styles.sticky}`}>
      <NavItem href="/homePage" icon={<svg xmlns="http://www.w3.org/2000/svg" width="40" height="37" viewBox="0 0 40 37" fill="none">
      <path d="M5.45455 36.3636V19.3182L2.18182 21.8182L0 18.9091L5.45455 14.7273V9.09091H9.09091V11.9545L20 3.63636L40 18.9091L37.8182 21.7727L34.5455 19.3182V36.3636H5.45455ZM9.09091 32.7273H18.1818V25.4545H21.8182V32.7273H30.9091V16.5455L20 8.22727L9.09091 16.5455V32.7273ZM5.45455 7.27273C5.45455 5.75758 5.98485 4.4697 7.04545 3.40909C8.10606 2.34848 9.39394 1.81818 10.9091 1.81818C11.4242 1.81818 11.8561 1.64394 12.2045 1.29545C12.553 0.94697 12.7273 0.515152 12.7273 0H16.3636C16.3636 1.51515 15.8333 2.80303 14.7727 3.86364C13.7121 4.92424 12.4242 5.45455 10.9091 5.45455C10.3939 5.45455 9.96212 5.62879 9.61364 5.97727C9.26515 6.32576 9.09091 6.75758 9.09091 7.27273H5.45455Z" fill="#D9D9D9"/>
        </svg>} label="Home" 
      />
      <NavItem href="/mood" icon={<svg xmlns="http://www.w3.org/2000/svg" width="36" height="38" viewBox="0 0 36 38" fill="none">
      <path d="M18 28.6971C22.194 28.6971 25.74 25.9941 27.198 22.2171H8.802C10.242 25.9941 13.806 28.6971 18 28.6971ZM11.7 16.6629C12.4161 16.6629 13.1028 16.3703 13.6092 15.8495C14.1155 15.3286 14.4 14.6223 14.4 13.8857C14.4 13.1492 14.1155 12.4428 13.6092 11.922C13.1028 11.4012 12.4161 11.1086 11.7 11.1086C10.9839 11.1086 10.2972 11.4012 9.79081 11.922C9.28446 12.4428 9 13.1492 9 13.8857C9 14.6223 9.28446 15.3286 9.79081 15.8495C10.2972 16.3703 10.9839 16.6629 11.7 16.6629ZM24.3 16.6629C25.0161 16.6629 25.7028 16.3703 26.2092 15.8495C26.7155 15.3286 27 14.6223 27 13.8857C27 13.1492 26.7155 12.4428 26.2092 11.922C25.7028 11.4012 25.0161 11.1086 24.3 11.1086C23.5839 11.1086 22.8972 11.4012 22.3908 11.922C21.8845 12.4428 21.6 13.1492 21.6 13.8857C21.6 14.6223 21.8845 15.3286 22.3908 15.8495C22.8972 16.3703 23.5839 16.6629 24.3 16.6629ZM18 33.3257C14.1809 33.3257 10.5182 31.7652 7.81766 28.9875C5.11714 26.2099 3.6 22.4425 3.6 18.5143C3.6 14.5861 5.11714 10.8187 7.81766 8.04102C10.5182 5.26334 14.1809 3.70286 18 3.70286C21.8191 3.70286 25.4818 5.26334 28.1823 8.04102C30.8829 10.8187 32.4 14.5861 32.4 18.5143C32.4 22.4425 30.8829 26.2099 28.1823 28.9875C25.4818 31.7652 21.8191 33.3257 18 33.3257ZM18 0C8.046 0 0 8.33143 0 18.5143C0 23.4246 1.89642 28.1338 5.27208 31.6059C6.94353 33.3251 8.92784 34.6888 11.1117 35.6193C13.2956 36.5497 15.6362 37.0286 18 37.0286C22.7739 37.0286 27.3523 35.078 30.7279 31.6059C34.1036 28.1338 36 23.4246 36 18.5143C36 16.083 35.5344 13.6754 34.6298 11.4292C33.7252 9.18292 32.3994 7.14192 30.7279 5.42271C29.0565 3.7035 27.0722 2.33975 24.8883 1.40932C22.7044 0.478886 20.3638 0 18 0Z" fill="#D9D9D9"/>
        </svg>} label="Mood" 
      />
      <NavItem href="/meditation" icon={<svg xmlns="http://www.w3.org/2000/svg" width="37" height="37" viewBox="0 0 37 37" fill="none">
      <path d="M18.3308 36.663C16.1005 36.388 13.8854 35.7846 11.6857 34.8528C9.48588 33.9209 7.52288 32.5842 5.79667 30.8428C4.07045 29.1013 2.67267 26.9015 1.60334 24.2434C0.533997 21.5853 -0.000671387 18.3926 -0.000671387 14.6652V12.8321H1.83248C3.39066 12.8321 4.99466 13.0306 6.6445 13.4278C8.29433 13.825 9.83723 14.4208 11.2732 15.2151C11.6398 12.5876 12.4724 9.89137 13.7709 7.12637C15.0694 4.36137 16.5893 1.98591 18.3308 0C20.0723 1.98591 21.5923 4.36137 22.8908 7.12637C24.1893 9.89137 25.0218 12.5876 25.3885 15.2151C26.8244 14.4208 28.3673 13.825 30.0172 13.4278C31.667 13.0306 33.271 12.8321 34.8292 12.8321H36.6623V14.6652C36.6623 18.3926 36.1277 21.5853 35.0583 24.2434C33.989 26.9015 32.5912 29.1013 30.865 30.8428C29.1388 32.5842 27.1834 33.9209 24.9989 34.8528C22.8144 35.7846 20.5917 36.388 18.3308 36.663ZM18.2392 32.905C17.9031 27.8333 16.3984 23.999 13.725 21.402C11.0517 18.8051 7.72911 17.2011 3.75729 16.59C4.09336 21.8145 5.6439 25.7099 8.4089 28.2763C11.1739 30.8428 14.4507 32.3857 18.2392 32.905ZM18.3308 21.2645C18.7891 20.5924 19.3467 19.8973 20.0036 19.1793C20.6605 18.4614 21.2944 17.8427 21.9055 17.3233C21.8444 15.5818 21.5007 13.7639 20.8743 11.8696C20.248 9.97539 19.4002 8.12697 18.3308 6.32437C17.2615 8.12697 16.4137 9.97539 15.7873 11.8696C15.161 13.7639 14.8173 15.5818 14.7562 17.3233C15.3672 17.8427 16.0088 18.4614 16.681 19.1793C17.3532 19.8973 17.9031 20.5924 18.3308 21.2645ZM21.9055 32.0801C23.0359 31.7135 24.2122 31.1788 25.4343 30.4761C26.6564 29.7734 27.7945 28.8186 28.8485 27.6118C29.9026 26.405 30.8039 24.9003 31.5524 23.0977C32.301 21.2951 32.7516 19.1259 32.9044 16.59C30.0324 17.0177 27.5119 17.9725 25.3426 19.4543C23.1734 20.9361 21.5083 22.8227 20.3473 25.1142C20.7139 26.0918 21.0271 27.1612 21.2868 28.3222C21.5465 29.4832 21.7527 30.7358 21.9055 32.0801Z" fill="#D9D9D9"/>
        </svg>} label="Meditate" 
      />
      <NavItem href="/calendar" icon={<svg xmlns="http://www.w3.org/2000/svg" width="30" height="38" viewBox="0 0 30 34" fill="none">
          <path d="M3.33333 33.6667C2.41667 33.6667 1.63194 33.3403 0.979167 32.6875C0.326389 32.0348 0 31.25 0 30.3334V7.00004C0 6.08337 0.326389 5.29865 0.979167 4.64587C1.63194 3.9931 2.41667 3.66671 3.33333 3.66671H5V0.333374H8.33333V3.66671H21.6667V0.333374H25V3.66671H26.6667C27.5833 3.66671 28.3681 3.9931 29.0208 4.64587C29.6736 5.29865 30 6.08337 30 7.00004V30.3334C30 31.25 29.6736 32.0348 29.0208 32.6875C28.3681 33.3403 27.5833 33.6667 26.6667 33.6667H3.33333ZM3.33333 30.3334H26.6667V13.6667H3.33333V30.3334ZM3.33333 10.3334H26.6667V7.00004H3.33333V10.3334ZM15 20.3334C14.5278 20.3334 14.1319 20.1737 13.8125 19.8542C13.4931 19.5348 13.3333 19.1389 13.3333 18.6667C13.3333 18.1945 13.4931 17.7987 13.8125 17.4792C14.1319 17.1598 14.5278 17 15 17C15.4722 17 15.8681 17.1598 16.1875 17.4792C16.5069 17.7987 16.6667 18.1945 16.6667 18.6667C16.6667 19.1389 16.5069 19.5348 16.1875 19.8542C15.8681 20.1737 15.4722 20.3334 15 20.3334ZM8.33333 20.3334C7.86111 20.3334 7.46528 20.1737 7.14583 19.8542C6.82639 19.5348 6.66667 19.1389 6.66667 18.6667C6.66667 18.1945 6.82639 17.7987 7.14583 17.4792C7.46528 17.1598 7.86111 17 8.33333 17C8.80556 17 9.20139 17.1598 9.52083 17.4792C9.84028 17.7987 10 18.1945 10 18.6667C10 19.1389 9.84028 19.5348 9.52083 19.8542C9.20139 20.1737 8.80556 20.3334 8.33333 20.3334ZM21.6667 20.3334C21.1944 20.3334 20.7986 20.1737 20.4792 19.8542C20.1597 19.5348 20 19.1389 20 18.6667C20 18.1945 20.1597 17.7987 20.4792 17.4792C20.7986 17.1598 21.1944 17 21.6667 17C22.1389 17 22.5347 17.1598 22.8542 17.4792C23.1736 17.7987 23.3333 18.1945 23.3333 18.6667C23.3333 19.1389 23.1736 19.5348 22.8542 19.8542C22.5347 20.1737 22.1389 20.3334 21.6667 20.3334ZM15 27C14.5278 27 14.1319 26.8403 13.8125 26.5209C13.4931 26.2014 13.3333 25.8056 13.3333 25.3334C13.3333 24.8612 13.4931 24.4653 13.8125 24.1459C14.1319 23.8264 14.5278 23.6667 15 23.6667C15.4722 23.6667 15.8681 23.8264 16.1875 24.1459C16.5069 24.4653 16.6667 24.8612 16.6667 25.3334C16.6667 25.8056 16.5069 26.2014 16.1875 26.5209C15.8681 26.8403 15.4722 27 15 27ZM8.33333 27C7.86111 27 7.46528 26.8403 7.14583 26.5209C6.82639 26.2014 6.66667 25.8056 6.66667 25.3334C6.66667 24.8612 6.82639 24.4653 7.14583 24.1459C7.46528 23.8264 7.86111 23.6667 8.33333 23.6667C8.80556 23.6667 9.20139 23.8264 9.52083 24.1459C9.84028 24.4653 10 24.8612 10 25.3334C10 25.8056 9.84028 26.2014 9.52083 26.5209C9.20139 26.8403 8.80556 27 8.33333 27ZM21.6667 27C21.1944 27 20.7986 26.8403 20.4792 26.5209C20.1597 26.2014 20 25.8056 20 25.3334C20 24.8612 20.1597 24.4653 20.4792 24.1459C20.7986 23.8264 21.1944 23.6667 21.6667 23.6667C22.1389 23.6667 22.5347 23.8264 22.8542 24.1459C23.1736 24.4653 23.3333 24.8612 23.3333 25.3334C23.3333 25.8056 23.1736 26.2014 22.8542 26.5209C22.5347 26.8403 22.1389 27 21.6667 27Z" fill="#D9D9D9"/>
        </svg>} label="Calendar" 
      />
    </div>
  );
}

function NavItem({ href, icon, label }) {
  const router = useRouter();

  const isActive = router.pathname === href;
  const isMoodActive = router.pathname.slice(0,5) === href;
  const isMeditationActive = router.pathname.slice(0,11) === href;

  return (
    <div className={styles.container}>
      <Link href={href} className={`${styles.navItem} ${isActive ? styles.active : ''} ${isMoodActive ? styles.moodActive : ''} ${isMeditationActive ? styles.meditationActive : ''}`}>
          <div className={styles.icon}>
            {icon}
          </div>
          <span className={styles.label}>
            {label}
          </span>
      </Link>
    </div>
  );
}

export default Navigation;

